@using ImmoCalc.Components.Converters
@typeparam TValue

<div class="form-group" style="margin-left: 10px; margin-right: 10px;">
    <input class="form-control form-control-lg" type="text" placeholder="@Placeholder" @bind-value="InputValue" @bind-value:event="onchange">
</div>

@code {
    [Parameter]
    public string Placeholder { get; set; }

    [Parameter]
    public TValue Value { get; set; }

    [Parameter]
    public EventCallback<TValue> ValueChanged { get; set; }

    [Parameter]
    public IValueConverter Converter { get; set; }

    private string InputValue
    {
        get => Converter.Convert(Value) as string;
        set
        {
            Value = (TValue) Converter.ConvertBack(value);
            ValueChanged.InvokeAsync(Value);
        }
    }
}
